<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/image-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">

<dom-module id="person-add-dialog">
    <template>
        <style>
            #addPersonId{
                margin-top: 10px;
            }
        </style>
        <iron-ajax id="addPerson"
                   method="POST"
                   url="http://api.meinewebseite.de/person"
                   content-type="application/json"
                   handle-as="json"
                   on-response="refreshView">
        </iron-ajax>
        <paper-button id="addPersonId" on-click="openAddPersonDlg">
            <iron-icon icon="icons:add-circle"></iron-icon>
            Neue Person anlegen!
        </paper-button>
        <paper-dialog modal id="addPersonDlg" on-iron-overlay-closed="addPersonDialogClosed">
            <h2>Person hinzuf√ºgen</h2>
            <p>
                <paper-input id="firstNameInput" label="Vorname" value="{{firstName}}" auto-validate minlength="2"
                             error-message="Vorname falsch!"></paper-input>
                <paper-input id="lastNameInput" label="Nachname" value="{{lastName}}" auto-validate minlength="2"
                             error-message="Nachname falsch!"></paper-input>
            </p>
            <div class="buttons">
                <paper-button id="AddCancel" dialog-dismiss>Abbrechen</paper-button>
                <paper-button id="AddSave" dialog-confirm disabled>Speichern</paper-button>
            </div>
        </paper-dialog>
    </template>
    <script src="persons-add-dialog.js"></script>
</dom-module>